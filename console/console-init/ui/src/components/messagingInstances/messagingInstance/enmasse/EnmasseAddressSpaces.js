import axios from 'axios';
import MessagingSpace from '../MessagingSpace';


const testNamespacesJson = '{"apiVersion":"enmasse.io/v1beta1","kind":"AddressSpaceList","metadata":{},"items":[{"apiVersion":"enmasse.io/v1beta1","kind":"AddressSpace","metadata":{"annotations":{"enmasse.io/realm-name":"enmasse-infra-myspace","enmasse.io/created-by":"developer","enmasse.io/infra-uuid":"x2i2afpmsv","enmasse.io/created-by-uid":"","enmasse.io/applied-infra-config":"{\\"apiVersion\\":\\"admin.enmasse.io/v1beta1\\",\\"kind\\":\\"StandardInfraConfig\\",\\"metadata\\":{\\"annotations\\":{\\"kubectl.kubernetes.io/last-applied-configuration\\":\\"{\\\\\\"apiVersion\\\\\\":\\\\\\"admin.enmasse.io/v1beta1\\\\\\",\\\\\\"kind\\\\\\":\\\\\\"StandardInfraConfig\\\\\\",\\\\\\"metadata\\\\\\":{\\\\\\"annotations\\\\\\":{},\\\\\\"labels\\\\\\":{\\\\\\"app\\\\\\":\\\\\\"enmasse\\\\\\"},\\\\\\"name\\\\\\":\\\\\\"default\\\\\\",\\\\\\"namespace\\\\\\":\\\\\\"enmasse-infra\\\\\\"},\\\\\\"spec\\\\\\":{\\\\\\"admin\\\\\\":{\\\\\\"resources\\\\\\":{\\\\\\"memory\\\\\\":\\\\\\"512Mi\\\\\\"}},\\\\\\"broker\\\\\\":{\\\\\\"addressFullPolicy\\\\\\":\\\\\\"FAIL\\\\\\",\\\\\\"resources\\\\\\":{\\\\\\"memory\\\\\\":\\\\\\"512Mi\\\\\\",\\\\\\"storage\\\\\\":\\\\\\"2Gi\\\\\\"}},\\\\\\"router\\\\\\":{\\\\\\"linkCapacity\\\\\\":250,\\\\\\"minReplicas\\\\\\":2,\\\\\\"resources\\\\\\":{\\\\\\"memory\\\\\\":\\\\\\"512Mi\\\\\\"}},\\\\\\"version\\\\\\":\\\\\\"0.27-SNAPSHOT\\\\\\"}}\\\\n\\"},\\"creationTimestamp\\":\\"2019-03-25T20:05:22Z\\",\\"generation\\":1,\\"labels\\":{\\"app\\":\\"enmasse\\"},\\"name\\":\\"default\\",\\"namespace\\":\\"enmasse-infra\\",\\"resourceVersion\\":\\"16437\\",\\"selfLink\\":\\"/apis/admin.enmasse.io/v1beta1/namespaces/enmasse-infra/standardinfraconfigs/default\\",\\"uid\\":\\"523ad62e-4f39-11e9-8ee5-c85b763fe4a2\\"},\\"spec\\":{\\"version\\":\\"0.27-SNAPSHOT\\",\\"admin\\":{\\"resources\\":{\\"memory\\":\\"512Mi\\"}},\\"broker\\":{\\"resources\\":{\\"memory\\":\\"512Mi\\",\\"storage\\":\\"2Gi\\"},\\"addressFullPolicy\\":\\"FAIL\\"},\\"router\\":{\\"minReplicas\\":2,\\"resources\\":{\\"memory\\":\\"512Mi\\"},\\"linkCapacity\\":250}}}","enmasse.io/applied-plan":"standard-unlimited"},"creationTimestamp":"2019-03-25T20:39:26Z","labels":{"addressSpaceType":"standard","namespace":"enmasse-infra","type":"address-space"},"name":"myspaceTestData","namespace":"enmasse-infra","resourceVersion":"26694","selfLink":"/apis/enmasse.io/v1beta1/namespaces/enmasse-infra/addressspaces/myspace","uid":"14a97126-4f3e-11e9-8ee5-c85b763fe4a2"},"spec":{"type":"standard","endpoints":[{"name":"messaging","service":"messaging","expose":{"type":"route","annotations":{},"routeServicePort":"amqps","routeTlsTermination":"passthrough","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-messaging-x2i2afpmsv"}},{"name":"messaging-wss","service":"messaging","expose":{"type":"route","annotations":{},"routeServicePort":"https","routeTlsTermination":"reencrypt","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-messaging-x2i2afpmsv"}},{"name":"mqtt","service":"mqtt","expose":{"type":"route","annotations":{},"routeServicePort":"secure-mqtt","routeTlsTermination":"passthrough","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-mqtt-x2i2afpmsv"}},{"name":"console","service":"console","expose":{"type":"route","annotations":{},"routeServicePort":"https","routeTlsTermination":"reencrypt","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-console-x2i2afpmsv"}}],"plan":"standard-unlimited","authenticationService":{"name":"none-authservice","details":{}}},"status":{"endpointStatuses":[{"name":"messaging","cert":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURxRENDQXBDZ0F3SUJBZ0lKQU5yNXVCSnprUTMvTUEwR0NTcUdTSWIzRFFFQkN3VUFNRUl4Q3pBSkJnTlYKQkFZVEFsaFlNUlV3RXdZRFZRUUhEQXhFWldaaGRXeDBJRU5wZEhreEhEQWFCZ05WQkFvTUUwUmxabUYxYkhRZwpRMjl0Y0dGdWVTQk1kR1F3SGhjTk1Ua3dNekkxTWpBek9USTVXaGNOTkRrd05UQTJNakF6T1RJNVdqQkdNUk13CkVRWURWUVFLREFwcGJ5NWxibTFoYzNObE1TOHdMUVlEVlFRRERDWnRaWE56WVdkcGJtY3RlREpwTW1GbWNHMXoKZGk1bGJtMWhjM05sTFdsdVpuSmhMbk4yWXpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQwpnZ0VCQU1SbmlzMlI2bjNWTGRLdzJWcUdwY3pyRzkwOWUyWC9kemtneGNmcDRET3FTNGI0TkhHbXFwaHR2TTRBCk5OT2pMWjdpdUJMZDRjS3laeHd3Tm9TVHJYQTFzVVVKVFpUUkN5aXdVc09UWGJIVjEwT2UyeVNRKzYrUG83Q28KYnFjdllxZWR4RDNBbDN1MEVDTG0wdWhQMVJrR3dScHNQNmZER3pyMTBhVHJjWmVId2QzSzRQdklDLzhSMDJONQp4TVUwMGV4Z09Mc2N2UzI1bmJKMWpVeFIxYnZ3OW05OVJjQUxqR3dIcENveFk2K1doZ1R4a3BpbHluVTM2YWJkCnFRTmFQMVhjOWpFLzA2MENRdzI5c3kvbXdFOGRTQkpEbTFCbURLclZZcjJHNFU5bW44QTNOS1NHZkJjOGdxbDEKa1dQdStYZ08yeUtiVitHNGh3WDArRTc2LzhNQ0F3RUFBYU9CbkRDQm1UQ0JsZ1lEVlIwUkJJR09NSUdMZ2ladApaWE56WVdkcGJtY3RlREpwTW1GbWNHMXpkaTVsYm0xaGMzTmxMV2x1Wm5KaExuTjJZNEk1YldWemMyRm5hVzVuCkxYZ3lhVEpoWm5CdGMzWXRaVzV0WVhOelpTMXBibVp5WVM0eE9USXVNVFk0TGpFME15NHhNRFV1Ym1sd0xtbHYKZ2ladFpYTnpZV2RwYm1jdGVESnBNbUZtY0cxemRpNWxibTFoYzNObExXbHVabkpoTG5OMll6QU5CZ2txaGtpRwo5dzBCQVFzRkFBT0NBUUVBTnM1WnBRL0JxWStHaklVRG45c3JqTFk1YlpSYXJicnpvd3l0Q0FUcmFIQUw1VmlGCkk2bWE1eVNOZ1hGZkNBN1ZNeGc1YU0ySFZNMXIrOUdWTGVZeE5pT0tXM0src2t1WEZqb2MzR2dHODVtVXlja2IKQWoxSG42KzFDcnJXVnkzUCtJSTBWVlJwVGRnY0JNb0JDMXQ5MWh6Wk8xNkhoeXZ0VTZzbkdNOUljbUVYMmVJZwo5Vzh1djNtRmtic2ZTYnE2RUx1YUpUbGg2MjNHcnVzbUFNcXJhSjFOUk84OUhyUzVWbENzc1dxNmFvY2t2RTlsCk9ib25WK0NpTGMrMHU2VjJvQUE4NmZjY3hmWFg1Y015cDFaRTFnbDB2ZE1uS2MzRTJncUoyN1UyWjV5U215VzgKckk0ZHp1MnpIcGd0dTRoMFBUZm9WR2hudGZnM25jdW1qM2dXUnc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==","serviceHost":"messaging-x2i2afpmsv.enmasse-infra.svc","servicePorts":[{"name":"amqps","port":5671},{"name":"amqp","port":5672},{"name":"amqp-wss","port":443}],"externalHost":"messaging-x2i2afpmsv-enmasse-infra.192.168.143.105.nip.io","externalPorts":[{"name":"amqps","port":443}]},{"name":"messaging-wss","serviceHost":"messaging-x2i2afpmsv.enmasse-infra.svc","servicePorts":[{"name":"amqps","port":5671},{"name":"amqp","port":5672},{"name":"amqp-wss","port":443}],"externalHost":"messaging-wss-x2i2afpmsv-enmasse-infra.192.168.143.105.nip.io","externalPorts":[{"name":"https","port":443}]},{"name":"console","serviceHost":"console-x2i2afpmsv.enmasse-infra.svc","servicePorts":[{"name":"https","port":8081}],"externalHost":"console-x2i2afpmsv-enmasse-infra.192.168.143.105.nip.io","externalPorts":[{"name":"https","port":443}]}],"messages":[],"caCert":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWekNDQWorZ0F3SUJBZ0lKQU9LcUhlRDVMS3RBTUEwR0NTcUdTSWIzRFFFQkN3VUFNRUl4Q3pBSkJnTlYKQkFZVEFsaFlNUlV3RXdZRFZRUUhEQXhFWldaaGRXeDBJRU5wZEhreEhEQWFCZ05WQkFvTUUwUmxabUYxYkhRZwpRMjl0Y0dGdWVTQk1kR1F3SGhjTk1Ua3dNekkxTWpBek9USTVXaGNOTkRrd05UQTJNakF6T1RJNVdqQkNNUXN3CkNRWURWUVFHRXdKWVdERVZNQk1HQTFVRUJ3d01SR1ZtWVhWc2RDQkRhWFI1TVJ3d0dnWURWUVFLREJORVpXWmgKZFd4MElFTnZiWEJoYm5rZ1RIUmtNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQpzb3VEVW9pU1JLMHpueC91c1lWTWhSNFdtR2xHTkJrVVZsWWxlbUFJZFBNQk9HVm43WSt1UEJ5NmxqSDFmUUdsCm1UL3RyVU1LOWxXWUZZb0xCVWFmOUNjVUF1QmpqVHBOSWJiNU9zb0VXRUp3bmRHNkFaQVhaaXBLL2xnRkhDcSsKWkIwaUFZQk82M0FMQnhTendzREJvYU93UE1YdkRQWjF3dFoxeUErc0g4M2R2OW1QVlUraWFnRHgxY3JyS1NRbwp4dnRYRFJiQmd2Z0dqWE1ROVZVb1NiUDZLbE1XNFVKbUMzOUt3Q0k0NWV1S0E5dWY3ZUZSWDg3NEdHdzVSc25NCjlpck4wTHFaRGJmTisvT01lUjNibHg0aXJuWFJnM09wRjJYL1J0RVJxeTF3ZEhQc1RzZlVGTmMrZkJ3V1B6WWcKRzRUTElGZkgrbFdkc3o4TnU5MWY1UUlEQVFBQm8xQXdUakFkQmdOVkhRNEVGZ1FVOFVZU2RjdTJRZm9lTXl5VQpXWkRjZ3loZzQzVXdId1lEVlIwakJCZ3dGb0FVOFVZU2RjdTJRZm9lTXl5VVdaRGNneWhnNDNVd0RBWURWUjBUCkJBVXdBd0VCL3pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQVRuT0c0WW9rM2RpdVQ5aEZWV3Jlckk3ZXRhUkUKTzQ4eWZPZWFUWTFKWWhmMDQrbVdWUGFNeURlb3hFbU1xTWtqY1d0SFBJcXlyZlhJbVhVL2NRRGhTQkRBV2d5NQpMOXBKdno3WmtDdDNjZnpPMnd4NzhhR3o1a2pibUFvVXRQaFF4UXJ0dFJYV0FBRXM5bWZqVjNZelFUZEFXKzFGCk5VU3lMZWg3Nm9IY3JvcXhwZ0pzSm1mK1BFRVJ1dENjMnNrdWtGWHVNWGtQNjJDVVhQd2ZsbVNjdEdjZ2p6RG4KNHkxUlRlWHBUSTZaR2VBM2VoOVNLdDBac3JBTy9oSk1uYmR6V2FxekcrUytyZUxHOTRvWGcxc0x6czdaQU9jQQo0V0poZTZnN0F5aHgrbGxuczFEWlFoUFZqRy8rdWF2ZFc1S25STnpRQWJ3R2RCNFlKTUE2WjVpaTdRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=","isReady":true}},{"apiVersion":"enmasse.io/v1beta1","kind":"AddressSpace","metadata":{"annotations":{"enmasse.io/realm-name":"myapp-myspace1","enmasse.io/created-by":"developer","enmasse.io/infra-uuid":"hdwi35p6dc","enmasse.io/created-by-uid":"","enmasse.io/applied-infra-config":"{\\"apiVersion\\":\\"admin.enmasse.io/v1beta1\\",\\"kind\\":\\"StandardInfraConfig\\",\\"metadata\\":{\\"annotations\\":{\\"kubectl.kubernetes.io/last-applied-configuration\\":\\"{\\\\\\"apiVersion\\\\\\":\\\\\\"admin.enmasse.io/v1beta1\\\\\\",\\\\\\"kind\\\\\\":\\\\\\"StandardInfraConfig\\\\\\",\\\\\\"metadata\\\\\\":{\\\\\\"annotations\\\\\\":{},\\\\\\"labels\\\\\\":{\\\\\\"app\\\\\\":\\\\\\"enmasse\\\\\\"},\\\\\\"name\\\\\\":\\\\\\"default\\\\\\",\\\\\\"namespace\\\\\\":\\\\\\"enmasse-infra\\\\\\"},\\\\\\"spec\\\\\\":{\\\\\\"admin\\\\\\":{\\\\\\"resources\\\\\\":{\\\\\\"memory\\\\\\":\\\\\\"512Mi\\\\\\"}},\\\\\\"broker\\\\\\":{\\\\\\"addressFullPolicy\\\\\\":\\\\\\"FAIL\\\\\\",\\\\\\"resources\\\\\\":{\\\\\\"memory\\\\\\":\\\\\\"512Mi\\\\\\",\\\\\\"storage\\\\\\":\\\\\\"2Gi\\\\\\"}},\\\\\\"router\\\\\\":{\\\\\\"linkCapacity\\\\\\":250,\\\\\\"minReplicas\\\\\\":2,\\\\\\"resources\\\\\\":{\\\\\\"memory\\\\\\":\\\\\\"512Mi\\\\\\"}},\\\\\\"version\\\\\\":\\\\\\"0.27-SNAPSHOT\\\\\\"}}\\\\n\\"},\\"creationTimestamp\\":\\"2019-03-25T20:05:22Z\\",\\"generation\\":1,\\"labels\\":{\\"app\\":\\"enmasse\\"},\\"name\\":\\"default\\",\\"namespace\\":\\"enmasse-infra\\",\\"resourceVersion\\":\\"16437\\",\\"selfLink\\":\\"/apis/admin.enmasse.io/v1beta1/namespaces/enmasse-infra/standardinfraconfigs/default\\",\\"uid\\":\\"523ad62e-4f39-11e9-8ee5-c85b763fe4a2\\"},\\"spec\\":{\\"version\\":\\"0.27-SNAPSHOT\\",\\"admin\\":{\\"resources\\":{\\"memory\\":\\"512Mi\\"}},\\"broker\\":{\\"resources\\":{\\"memory\\":\\"512Mi\\",\\"storage\\":\\"2Gi\\"},\\"addressFullPolicy\\":\\"FAIL\\"},\\"router\\":{\\"minReplicas\\":2,\\"resources\\":{\\"memory\\":\\"512Mi\\"},\\"linkCapacity\\":250}}}","enmasse.io/applied-plan":"standard-unlimited"},"creationTimestamp":"2019-03-25T20:44:28Z","labels":{"addressSpaceType":"standard","namespace":"myapp","type":"address-space"},"name":"myspace1","namespace":"myapp","resourceVersion":"28215","selfLink":"/apis/enmasse.io/v1beta1/namespaces/myapp/addressspaces/myspace1","uid":"c87ef25b-4f3e-11e9-8ee5-c85b763fe4a2"},"spec":{"type":"standard","endpoints":[{"name":"messaging","service":"messaging","expose":{"type":"route","annotations":{},"routeServicePort":"amqps","routeTlsTermination":"passthrough","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-messaging-hdwi35p6dc"}},{"name":"messaging-wss","service":"messaging","expose":{"type":"route","annotations":{},"routeServicePort":"https","routeTlsTermination":"reencrypt","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-messaging-hdwi35p6dc"}},{"name":"mqtt","service":"mqtt","expose":{"type":"route","annotations":{},"routeServicePort":"secure-mqtt","routeTlsTermination":"passthrough","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-mqtt-hdwi35p6dc"}},{"name":"console","service":"console","expose":{"type":"route","annotations":{},"routeServicePort":"https","routeTlsTermination":"reencrypt","loadBalancerPorts":[],"loadBalancerSourceRanges":[]},"cert":{"provider":"selfsigned","secretName":"external-certs-console-hdwi35p6dc"}}],"plan":"standard-unlimited","authenticationService":{"name":"none-authservice","details":{}}},"status":{"endpointStatuses":[{"name":"messaging","cert":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURxRENDQXBDZ0F3SUJBZ0lKQU5pand4ZG81RlJoTUEwR0NTcUdTSWIzRFFFQkN3VUFNRUl4Q3pBSkJnTlYKQkFZVEFsaFlNUlV3RXdZRFZRUUhEQXhFWldaaGRXeDBJRU5wZEhreEhEQWFCZ05WQkFvTUUwUmxabUYxYkhRZwpRMjl0Y0dGdWVTQk1kR1F3SGhjTk1Ua3dNekkxTWpBME5ETXdXaGNOTkRrd05UQTJNakEwTkRNd1dqQkdNUk13CkVRWURWUVFLREFwcGJ5NWxibTFoYzNObE1TOHdMUVlEVlFRRERDWnRaWE56WVdkcGJtY3RhR1IzYVRNMWNEWmsKWXk1bGJtMWhjM05sTFdsdVpuSmhMbk4yWXpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQwpnZ0VCQU15cW5sN0JucFVBTEdkemJUbjlIeUFVcVVxSGpTU283ZlRicGRSZ2xlWHpXUm1iOEl5eUVQMi80UkxQCkYyakJCaFAzSCtKMDhMVWJiOVV3SWt1Y1FCUTVlS2YybzJyYTBYRUZyeUlpV1hPUzlieC8rRGFVZ1J3NENFUDEKZHZ2RzNsS0ZESU5mQVVrelo1K3lMcEtjNmZjL2xzS0ZLdjlJdmJ1cGZwMXUxWGFjYzhnMXpHR1g1dGxFQmVOVApKS244d0dxZThxZSsrNVJSYkZCRWJvZ1pILzJlWTlQamUvN3poRXJNa3dIOS9PR1lJUWh5L2dWQ2hlc2VqdHNiCnBnVHl4Y0FKYzNETERtcE0yMkxMMk9rcEM3a3dqZ0tOTHpsME5XVldPNWx5UlhiZkJOQ1kzR0NQNE5ub0IwRkYKc1pES0xXN01KUEVLWEtUMzM3d3l4YWJ0WVRzQ0F3RUFBYU9CbkRDQm1UQ0JsZ1lEVlIwUkJJR09NSUdMZ2ladApaWE56WVdkcGJtY3RhR1IzYVRNMWNEWmtZeTVsYm0xaGMzTmxMV2x1Wm5KaExuTjJZNEk1YldWemMyRm5hVzVuCkxXaGtkMmt6TlhBMlpHTXRaVzV0WVhOelpTMXBibVp5WVM0eE9USXVNVFk0TGpFME15NHhNRFV1Ym1sd0xtbHYKZ2ladFpYTnpZV2RwYm1jdGFHUjNhVE0xY0Raa1l5NWxibTFoYzNObExXbHVabkpoTG5OMll6QU5CZ2txaGtpRwo5dzBCQVFzRkFBT0NBUUVBZG1EY0xEeEIrZFhnMkw3ckFPWFRCcDhLQVR3ZU0xWSswMzl0bFBBaXRhbm1GWUI5ClJESTJnd1owZERPRlRzeGF4U3p5UEEwS0dWVG5zVjFqRnBlZHZPRVk2Mk9NRWg0ZFlyejlROUZkdEwxcDlNdmgKZThub1dpWDU3M2FsMUoxQitQdXZzcUhDelJtYWFEMlBydnJnN1htMHd0eXNyYjk4Y2xVeHRZQnlqNHVzVmJrYgpnT0k2a2l4anYrYnYvWjJxNlFzVTFZZnpBeEFNaC9CeFZpMFJKbWxJRkw4WkpyRjQwYjB3NTF6VkU3UUlvRFJVCjBmQkZOSjBYNW5vYVBrNnJ2UDg3YmZDZ0JsaUFScExxcE1LN3NkTVB5aUhBVE5KU1VrcHRVdm5GTkFpTGFsb2kKVjRncDFXeFRFUS9SbUVRUFJkdmtsVlJyZ1lkeHVVRHI0TDRpeWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==","serviceHost":"messaging-hdwi35p6dc.enmasse-infra.svc","servicePorts":[{"name":"amqps","port":5671},{"name":"amqp","port":5672},{"name":"amqp-wss","port":443}],"externalHost":"messaging-hdwi35p6dc-enmasse-infra.192.168.143.105.nip.io","externalPorts":[{"name":"amqps","port":443}]},{"name":"messaging-wss","serviceHost":"messaging-hdwi35p6dc.enmasse-infra.svc","servicePorts":[{"name":"amqps","port":5671},{"name":"amqp","port":5672},{"name":"amqp-wss","port":443}],"externalHost":"messaging-wss-hdwi35p6dc-enmasse-infra.192.168.143.105.nip.io","externalPorts":[{"name":"https","port":443}]},{"name":"console","serviceHost":"console-hdwi35p6dc.enmasse-infra.svc","servicePorts":[{"name":"https","port":8081}],"externalHost":"console-hdwi35p6dc-enmasse-infra.192.168.143.105.nip.io","externalPorts":[{"name":"https","port":443}]}],"messages":[],"caCert":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWekNDQWorZ0F3SUJBZ0lKQUpxZDhZdXZIVG9STUEwR0NTcUdTSWIzRFFFQkN3VUFNRUl4Q3pBSkJnTlYKQkFZVEFsaFlNUlV3RXdZRFZRUUhEQXhFWldaaGRXeDBJRU5wZEhreEhEQWFCZ05WQkFvTUUwUmxabUYxYkhRZwpRMjl0Y0dGdWVTQk1kR1F3SGhjTk1Ua3dNekkxTWpBME5ESTVXaGNOTkRrd05UQTJNakEwTkRJNVdqQkNNUXN3CkNRWURWUVFHRXdKWVdERVZNQk1HQTFVRUJ3d01SR1ZtWVhWc2RDQkRhWFI1TVJ3d0dnWURWUVFLREJORVpXWmgKZFd4MElFTnZiWEJoYm5rZ1RIUmtNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQp6cEszdUwzTHNkYmFnbjBtSkNTR1V4RE5aTXI0TmEvVVhGK2RuZ0dURHRjTFFFY0NJcERSa3ZNLzVnSUxDMUpNClo4QzF5NlBmaFBDM1FTbEZNNnRhN1VVMDdVbWhGRGhOWHRVTmI2NlRxMm1vcEhFeDE5TWlkbTJRbFAxK2xmdjIKUHZLMU42MFEreW5ydjJUQWRSTHlSZzFyUWRucGl2MFdRRmFuT2E1b3NkcnJES08ybWlFZ1ZkaExoTnZ3MDNpZQoza3pNczlLSjljOVQvb2k2ZFdEcHZVMVVQa1hSd0l1bU1DS0xPT2FXQmhobmdLak1vejFWQlFld21VVEtLTjJZClFja2VsUHlaNG1SZXVQWjZseXVXR3d4aGx5R3ArdDFzWDg0eC9lWnozaFhOL0R0TUNXZFJ6cFJIRVVxZXFOVnMKcTd4RlZhREdvYy9Ic0doa1VVVURIUUlEQVFBQm8xQXdUakFkQmdOVkhRNEVGZ1FVb2FUT0Z0OW5uZ09TcU56YgoyNWhKYkF0YzJNRXdId1lEVlIwakJCZ3dGb0FVb2FUT0Z0OW5uZ09TcU56YjI1aEpiQXRjMk1Fd0RBWURWUjBUCkJBVXdBd0VCL3pBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQVUyRWp2NzVEK0E3WHV5eE1nU2YyUFFIQzJUcG0Ka2tjVTJ1cURRZkp5RzA1cXRBb2pYK25RSjk3SGxqNkt6aXZrTkVGaHovR1lVemhiTGpjcFBkYlNjQUhpZk1jaQo2R1pKWUtGcS8yRFI3bUJuZVVmMG9TSTVRMDJ6UzVhdXNFR1hIcnppb2lRNWpVYnBUbm9ZOCtWeEVSSG0vZ04zCmNMMDhOM0d5V0kzZ1JqS25GdkYzWVRpMlFMZlUwclNuaU1ZQlUwdzNTMC9UVjk3aTNVUVJUcjA5di9McXNWRzcKKzVDWi9jeU1idEpjQk5zQmVYY0lGSFFPUjNJeDVsRWR2WGdONVhxKzQ5bVBhTkdGdkRYQmR5VXhiTEhuRDR0RApwbWtHUVJyOVBpYWQxUkZkR2JMaEJ0d3U2c1J5N2RJOXJGUzg5QlFpRkd2SE1SaTNZdytNZTdmYTNBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=","isReady":true}}]}';

const translate = addressSpaces => {

    let translation = addressSpaces.items.map(namespace => new MessagingSpace(namespace.metadata.name,
      namespace.metadata.namespace,
      namespace.kind,
      namespace.spec.type,
      namespace.metadata.creationTimestamp,
      namespace.status.isReady));

    return translation;
}

export function loadMessagingInstances() {
  return axios.get('apis/enmasse.io/v1beta1/addressspaces')
    .then(response => translate(response.data))
    .catch(error => {
      return translate(JSON.parse(testNamespacesJson));
    });
}

export function deleteMessagingInstances(name, namespace) {
  console.log('clicked on delete action, on: '+ name+' '+ namespace);
  return axios.delete('apis/enmasse.io/v1beta1/namespaces/'+namespace+'/addressspaces/'+name)
    .then(response => console.log('DELETE successful: '+response))
    .catch(error =>
      console.log('DELETE FAILED: ', error)
    );
}

